# .cursorrules

[general]
# Only allow code changes in these directories
allowed_paths = [
    "Sources/XLKit/",
    "Tests/XLKitTests/",
    ".github/workflows/",
    "README.md",
    "AGENT.MD"
]

# Disallow UI, assets, or platform-specific code outside macOS
disallowed_paths = [
    "Sources/XLKit/icons.xcassets/",
    "Sources/XLKit/*.storyboard",
    "Sources/XLKit/*.xib"
]

# Only allow Swift and Markdown files
allowed_extensions = [
    ".swift",
    ".md",
    ".yml",
    ".ini"
]

# Do not suggest or create files for other platforms (iOS, Linux, Windows, etc.)
disallow_platforms = [
    "iOS",
    "Linux",
    "Windows",
    "Android"
]

# All code must be compatible with Swift 6.0 and macOS 13+
require_swift_version = "6.0"
require_macos_version = "13.0"

# All public APIs must have doc comments
require_doc_comments = true

# All new features must include corresponding unit tests and be easy to use
require_unit_tests = true
require_easy_to_use_api = true

# All new features (especially image and column sizing) must be tested and documented
require_image_and_column_sizing_tests = true

# CI must pass before merge
require_ci_pass = true

# CSV/TSV import/export must use XLKit static methods (not direct CSVUtils)
require_csv_api = "XLKit static methods only"

# All documentation and tests must use and reflect the modular API
require_modular_api_docs = true

# Code Style & Formatting
# All code must be formatted using the .swift-format file in the repo.
# Use 4-space indentation, trailing commas, grouped/reordered imports, and modern Swift idioms.
# No force-unwraps or force-casts in public API.
# All public APIs must have doc comments.
# Code must be formatted and pass CI before merging. 